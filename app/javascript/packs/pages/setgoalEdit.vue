<template>
  <div class="goal_detail">
    <!-- <HeaderGoal></HeaderGoal> -->
     <header class="header">
    <nav class="nav">
      <ul class="wrapper">
        <li class="back">
          <router-link to="/setgoal">
              <span class="icon">
                <img v-bind:src="require('../images/arrow_back.svg')" alt="arrowback">
              </span>
              <p>æˆ»ã‚‹</p> 
          </router-link>
        </li>
        <li @click="updateGoalButton" class="save">ä¿å­˜ã™ã‚‹</li>
      </ul>
    </nav>
  </header>
    <div class="note">
      <div class="wrapper">
          <div class="title">
            <input v-model="goal.title" v-on:keypress.enter="updateGoalButton" type="text" placeholder="ç›®æ¨™ã‚’è¨˜å…¥ã—ã‚ˆã†">
          </div>

          <div class="action_wrap">
            <li class="detail">
                <h4 class="subtitle">ğŸš€ç›®æ¨™ã®ãŸã‚ã«ã‚„ã‚‹ã“ã¨/æ®µå–ã‚Š</h4>
                <textarea class="content" v-model="goal.action" v-on:keypress.enter="updateGoalButton" name="" id="" cols="30" rows="10" 
                value="" 
                placeholder="å®Ÿç¾ã«å‘ã‘ã¦ã‚„ã‚‹ã“ã¨ã‚’å…·ä½“åŒ–ã—ã¦ã¿ã‚ˆã†

â–  ç›®æ¨™é”æˆã®ãŸã‚ã®è¦ç´ ã‚’åˆ†è§£ã—ã¦è¨€è‘‰ã«ã—ã¦ã¿ã¾ã—ã‚‡ã†
â–  å¯èƒ½ãªã‚‰ã‚„ã‚‹ã“ã¨ã«é †ç•ªã‚’ã¤ã‘ã¦ã¿ã‚ˆã†ã€‚å…·ä½“çš„ãªã‚¤ãƒ¡ãƒ¼ã‚¸ã«ã¤ãªãŒã‚‹ã‹ã‚‚ã‚ˆ
â–  é”æˆçŠ¶æ³ã‚’æ¸¬å®šã§ãã‚‹ã‚ˆã†ã«ã™ã‚‹(Xå›ã‚„ã‚‹etcï¼‰ã¨è‰¯ã„ã‹ã‚‚ã§ã™ã€‚ã—ã‚“ã©ã„ã‘ã©ã€‚ç¬‘"
                >
                </textarea>
              </li>
          </div>

          <div class="goalcontent">
            <ul class="wrapper">
              <li class="detail people">
                <h4>â“é”æˆã—ãŸã„ç†ç”±</h4>
                <textarea class="content" v-model="goal.reason" v-on:keypress.enter="updateGoal" name="" id="" cols="30" rows="10" 
                placeholder="è‡ªåˆ†ã ã‘ã§ã‚‚å…±æ„Ÿã§ãã‚‹ç†ç”±ãŒã‚ã‚Œã°ã€ãã‚ŒãŒå¾ŒæŠ¼ã—ã—ã¦ãã‚Œã‚‹ã¯ãšã§ã™">
                </textarea>
              </li>
              <li class="detail environment">
                <h4>ğŸŒˆè‡ªåˆ†ã‚’å¾ŒæŠ¼ã—ã™ã‚‹ç’°å¢ƒ</h4>
                <textarea class="content" v-model="goal.environment" v-on:keypress.enter="updateGoal" name="" id="" cols="30" rows="10" 
                placeholder="ç’°å¢ƒã®åŠ›ã¯å‰å¤§ã§ã™
â–  ã¾ã‚ã‚ŠãŒå¤‰ã‚ã‚‹ã¨è‡ªåˆ†ãŒå¤‰ã‚ã‚‹ã¨ã„ã†è©±ã€ã‚ˆãèãã¾ã™ã‚ˆã­ãƒ»ãƒ»ãƒ»ãƒ»">
                </textarea>
              </li>
              <li class="detail people">
                <h4>ğŸ˜¶é”æˆã‚’åŠ©ã‘ã¦ãã‚Œã‚‹äºº</h4>
                <textarea class="content" v-model="goal.people" v-on:keypress.enter="updateGoal" name="" id="" cols="30" rows="10" 
                placeholder="èª°ã‹ã®åŠ›ãŒå¿…è¦ãªã“ã¨ã‚‚ã‚ã‚‹ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“ã€‚
â–  åŠ±ã¾ã—ã¦ãã‚Œã‚‹äººã€æ•™ãˆã¦ãã‚Œã‚‹äººãƒ»ãƒ»ãƒ»ã©ã‚“ãªäººãŒã„ã‚‹ã‹ãªã€œ">
                </textarea>
              </li>
              <li class="detail">
                <h4>â›°é”æˆã®éšœå®³ã«ãªã‚‹ã“ã¨</h4>
                <textarea v-model="goal.problem" v-on:keypress.enter="updateGoal" name="" id="" cols="30" rows="10" 
                placeholder="æ•µã‚’çŸ¥ã‚Šã€å·±ã‚’çŸ¥ã‚Œã°ã€ç™¾æˆ¦å±ã†ã‹ã‚‰ãšã€œã€œï¼ˆãƒ‰ãƒ‰ã‚“ã£

â–  å›°é›£ã«ã¶ã¤ã‹ã£ãŸæ™‚ã€ã©ã†ã™ã‚‹ã‹ã‚‚è€ƒãˆã‚‹ã¨è‰¯ã„ã‹ã‚‚ã—ã‚Œã¾ã›ã‚“
â–  é›£ã—ã„ã“ã¨ã¯æ—©ã‚ã«ã‚„ã£ã¦å¤±æ•—ã—ã¦ãŠãã¨è‰¯ã„ã‚„ã‚Šæ–¹ãŒè¦‹ã¤ã‹ã‚‹ã‹ã‚‚">
                </textarea>
              </li>
            </ul>
          </div>
        </div>
    </div>
    
  </div>
  
</template>

<script>
import axios from 'axios';

import HeaderGoal from "../components/header-goal.vue";

export default {
  components: {
    HeaderGoal
  },
  data: function (){
   return {
     goal: {}
   }
 },
 mounted () {
    axios
      .get(`/api/v1/goals/${this.$route.params.id}.json`)
      .then(response => (this.goal = response.data))
  },
  methods:{
   updateGoal: function(){
      axios
      .patch(`/api/v1/goals/${this.goal.id}`, this.goal)
    }
  },
  methods:{
   updateGoalButton: function(){
      axios
      .patch(`/api/v1/goals/${this.goal.id}`, this.goal)
      
    }
  },
}
</script>

<style lang="scss" scoped>
@import "./app/javascript/style/global.scss";
@import "./app/javascript/style/_mixin.scss";
.goal_detail {
  background-color:#FAF5EC;
  padding-bottom: 80px;
	.note {
    background-color: white;
    border-radius:8px;
    padding: 48px;
    width: 88%;
    margin: 0 auto;
		.wrapper {
			.title {
        padding: 32px auto;
        margin-bottom: 32px;
        width: 100%;
        border-bottom: 1px solid #dadbdd;
        input[type="text"]{
          font-size: 32px;
          font-weight: bold;
          text-align: center;
          padding-bottom: 40px;
        }
        h3{
          @include fst-l;
          text-align: center;
          margin-bottom: 32px;
        }
      }
      .action_wrap{
        border-bottom: 1px solid #f3f3f4;
        margin: 80px 0 56px;
        .detail{
          list-style: none;
        font-size: 20px;
          .subtitle{
            margin: 0 0 32px;
            font-weight: bold;
          }
          .content{
             height: 425px;
            font-size: 16px;
            margin-top: 0px;
            margin-bottom: 0px;
          }
        }
      }
		}
	}
}

.goalcontent {
				.wrapper {
          display: flex;
          flex-wrap: wrap;
          justify-content: space-between;
					.detail {
            width: calc(50% - 16px);
            height: 280px;
            padding: 24px;
            border-bottom: none;
            margin-bottom: 80px;
            &:nth-child(odd){
              border-right: 1px solid #f3f3f4;
            }
            &:nth-child(1),&:nth-child(2){
            }
            
            h4{
              @include fst-m;
              margin-bottom: 24px;
              font-size: 16px;
            }
            textarea{
              @include fsn-m;
              padding: 0;
              line-height: 1.8;
            }
					}
				}
}
.goal_detail{
  .content::-webkit-input-placeholder {
    color: #999;
    }
    input:focus{
      outline: 0;
      border:none;
      box-shadow: none;
    }
    textarea:focus{
      outline: 0;
      border:none;
      box-shadow: none;
    }
}


.header {
  background: none;
  padding: 20px 32px;
  position: relative;
	.nav {
		.wrapper {
      display: flex;
      justify-content: space-between;
      width: 100%;
			 .back{
        padding: 12px 16px;
        a{
          display: flex;
          justify-content: space-between;
          text-decoration: none;
          background-color: rgba(0,0,0,0.04);
          border-radius: 100px;
          padding: 12px 20px 10px 16px;
          transition: all 0.24s;
          &:hover{
            background-color: rgba(0,0,0,0.12);
          }
          .icon {
              margin-right: 12px
          }
          p{
            padding: 4px 0;
          }
        }
				
        p{
          font-size:14px;
          font-weight: bold;
          line-height:1;
        }
			}
			.save {
        padding: 24px 24px;
    font-size: 14px;
    border-radius: 100px;
    height: 0;
    line-height: 0;
    color: white;
    background-color: #080725;
    box-shadow: 1px 1px 4px rgba(0,0,0,0.08);
    transition: all 0.4s;
    cursor: pointer;
    &:hover{
      background-color: white;
      color: #080725;
      font-weight: bold;
      box-shadow: 1px 1px 8px rgba(0,0,0,0.16);
    }
			}
		}
	}
}

@include sp{
  .goal_detail{
    .header{
        padding: 20px 4px;
        margin-bottom: 48px;
    }    
    .note{
      width: 96%;
      padding: 20px;
      .title{
        input[type="text"]{
          font-size: 24px;
        }
      }
      .goalcontent{
        .wrapper{
          display: block;
          .detail{
            width: 100%;
            &:nth-child(odd){
              border-right: none;
            }
          }
        }
      }
    }
  }
}
</style>
