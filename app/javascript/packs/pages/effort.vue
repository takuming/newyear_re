<template>
  <div class="focus">
    <header class="header">
    <nav class="nav">
      <ul class="wrapper">
        <li class="back">
          <router-link to="/">
              <span class="icon">
                <img v-bind:src="require('../images/close.svg')" alt="arrowback">
              </span>
              <p>æˆ»ã‚‹</p>  
          </router-link>
        </li>
        <li @click="updateEffort" class="save">ä¿å­˜ã™ã‚‹</li>
      </ul>
    </nav>
  </header>
    <div class="title">
      <p>PHASE2</p>
      <h3>å–ã‚Šçµ„ã¿ãŸã„ã“ã¨ã‚’æ›¸ãä¸Šã’ã‚‹ğŸ–</h3>
      <p class="list">ãƒ»ä»Šã€èˆˆå‘³ãŒã‚ã‚‹ã“ã¨ã‚’æ›¸ãå‡ºã›ã‚‹è³ªå•ã‚’ç”¨æ„ã—ã¾ã—ãŸã€‚<br>ãƒ»ã™ã¹ã¦ç­”ãˆã‚‹å¿…è¦ã¯ã‚ã‚Šã¾ã›ã‚“ã€‚ãƒ¯ã‚¯ãƒ¯ã‚¯ã™ã‚‹ã‚‚ã®ãŒè¦‹ã¤ã‹ã‚Œã°è‰¯ã„ã®ã§ã™<br>ãƒ»ç›®å®‰ã¯20åˆ†ã§ã™ã€‚è‡ªç”±ã«æ›¸ãã¾ã—ã‚‡ã†<br>ãƒ»ãƒ•ã‚©ãƒ¼ãƒ å†…ã§Enterã‚’æŠ¼ã—ã¦æ”¹è¡Œã™ã‚‹ã¨è‡ªå‹•çš„ã«ä¿å­˜ã•ã‚Œã¾ã™ã€‚</p>
    </div>
    <div class="note">
      <ul class="quesitions">
        <li class="item">
          <h3 class="title">Q1.æ¥å¹´å¤‰ãˆãŸã„ã“ã¨ã‚’æ›¸ãå‡ºã—ã¦ã¿ã¾ã—ã‚‡ã†</h3>
          <textarea 
          v-model="effort.change" 
          v-on:keypress.enter="updateEffort"  name="" id="" cols="30" rows="10" placeholder="æ€ã„ã¤ã„ãŸã‚‰ã¨ã‚Šã‚ãˆãšæ›¸ãå‡ºã—ã¾ãã‚‹ã®ãŒã‚ªã‚¹ã‚¹ãƒ¡ã§ã™"></textarea>
        </li>
        <li class="item">
          <h3 class="title">Q2.æ¥å¹´ã‚‚ã¤ã¥ã‘ãŸã„ã“ã¨</h3>
          <textarea v-model="effort.keep" 
          v-on:keypress.enter="updateEffort" 
          name="" id="" cols="30" rows="10" placeholder="ç¶™ç¶šã¯åŠ›ãªã‚Šã€œã€œ"></textarea>
        </li>
        <li class="item">
          <h3 class="title">Q3.ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ãŸã„ã“ã¨</h3>
          <textarea v-model="effort.challenge" name="" id="" cols="30" rows="10" placeholder="å®Ÿç¾ã§ãã‚‹ã“ã¨ã‚‚ã§ããªã„ã“ã¨ã‚‚ã€‚è¨ˆç”»ã‚’ç«‹ã¦ã‚‹ã®ã‚‚è‰¯ã„ã‹ã‚‚ã€‚"></textarea>
        </li>
        <li class="item">
          <h3 class="title">Q4.å‘¨ã‚Šã«ä¸ãˆãŸã„å½±éŸ¿</h3>
          <textarea v-model="effort.influence" name="" id="" cols="30" rows="10" placeholder="é€†ã«ã„ã†ã¨ã©ã†ã„ã†è‡ªåˆ†ã§ã‚ã‚‹ã¹ãã‹ãŒè¦‹ãˆã¦ãã¾ã™"></textarea>
        </li>
        <li class="item">
          <h3 class="title">Q5.ã©ã‚“ãªç¿’æ…£ã‚’æŒã¡ãŸã„ã€ã¾ãŸãã‚Œã¯ãªãœã‹</h3>
          <textarea v-model="effort.surround" name="" id="" cols="30" rows="10" placeholder="å–ã‚Šçµ„ã‚“ã§ã„ãã«ã¯ç¿’æ…£ã¨å‹é”ã«ãªã‚Œã‚‹ã¨è‰¯ã„ã‹ã‚‚ã§ã™ã‚ˆã­ãƒ»ãƒ»ãƒ»"></textarea>
        </li>
        <li class="item">
          <h3 class="title">Q6.ã©ã‚“ãªæ„Ÿæƒ…ã§æ¥å¹´ã‚’çµ‚ãˆãŸã„ã‹</h3>
          <textarea v-model="effort.endofyear" name="" id="" cols="30" rows="10" placeholder="æœ€çµ‚çš„ã«æ¥å¹´ã©ã†ã„ã†å¹´ã«ã—ãŸã„ã®ã‹ã€‚ã‚¤ãƒ¡ãƒ¼ã‚¸ã§ã‚‚ã€‚"></textarea>
        </li>
      </ul>
    </div>
  </div>
</template>

<script>
import axios from 'axios';

import HeaderIndex from "../components/header-index.vue";

export default {
  components: {
    HeaderIndex
  },
 data() {
   return {
     questions: [
      { title: 'å¤‰ãˆãŸã„ã“ã¨' },
      { title: 'ã¤ã¥ã‘ãŸã„ã“ã¨' },
      { title: 'ãƒãƒ£ãƒ¬ãƒ³ã‚¸ã—ãŸã„ã“ã¨' },
      { title: 'ã©ã‚“ãªå½±éŸ¿ã‚’å‘¨ã‚Šã®äººã«ä¸ãˆãŸã„' },
      { title: 'ã©ã‚“ãªç¿’æ…£ã‚’æŒã¡ãŸã„' },
      { title: 'ã©ã‚“ãªæ„Ÿæƒ…ã§æ¥å¹´ã‚’çµ‚ãˆãŸã„' },
      { plholder: 'èƒ½åŠ›ã€æ™‚é–“ã€æ„Ÿæƒ…ãƒ»ãƒ»ãƒ»ãƒ»ãƒ»ãªã‚“ã§ã‚‚æ›¸ãå‡ºã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚' },
      { plholder: 'ã“ã®æœˆã«ã‚ã£ãŸã“ã¨ã‚’2ã¤~ï¼•ã¤ãªã‚“ã§ã‚‚æ›¸ãå‡ºãã†' },
      { plholder: 'èƒ½åŠ›ã€æ™‚é–“ã€æ„Ÿæƒ…ãƒ»ãƒ»ãƒ»ãƒ»ãƒ»ãªã‚“ã§ã‚‚æ›¸ãå‡ºã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚' },
      { plholder: 'ã“ã®æœˆã«ã‚ã£ãŸã“ã¨ã‚’2ã¤~ï¼•ã¤ãªã‚“ã§ã‚‚æ›¸ãå‡ºãã†' },
      { plholder: 'èƒ½åŠ›ã€æ™‚é–“ã€æ„Ÿæƒ…ãƒ»ãƒ»ãƒ»ãƒ»ãƒ»ãªã‚“ã§ã‚‚æ›¸ãå‡ºã—ã¦ã¿ã¾ã—ã‚‡ã†ã€‚' },
      { plholder: 'ã“ã®æœˆã«ã‚ã£ãŸã“ã¨ã‚’2ã¤~ï¼•ã¤ãªã‚“ã§ã‚‚æ›¸ãå‡ºãã†' },
    ],
    effort:{},
   }
 },
 mounted () {
    axios
      .get(`/api/v1/efforts/${this.$route.params.id}.json`)
      .then(response => (this.effort = response.data))
  },
  methods: {
    updateEffort: function() {
      axios
        .patch(`/api/v1/efforts/${this.effort.id}`, this.effort)
        .catch(error => {
          console.error(error);
          if (error.response.data && error.response.data.errors) {
            this.errors = error.response.data.errors;
          }
        });
    },
  }
}
</script>

<style lang="scss" scoped>
@import "./app/javascript/style/global.scss";
@import "./app/javascript/style/_mixin.scss";
.header{
  color: white;
  .save{
    color: #000;
  }
}
.focus {
  background-color:#FFF5EF;
  padding-bottom: 80px;
	.title {
    margin: 24px 0 56px;
    h3{
      @include fst-l;
      text-align: center;
      margin-bottom: 8px;
      color: #080725;
    }
    p{
      @include fsn-s;
       @include eng_font;
      text-align: center;
      color: #080725;
      margin-bottom: 12px;
    font-weight: bold;
    }
    p.list{
      @include plist;
    }
	}
	.note {
    @include note;
    padding: 72px;
    width: 95%;
		.quesitions {
			.item {
        border-bottom: 1px solid #f3f3f4;
        margin-bottom: 64px;
				.title {
          @include fst-s;
          margin-bottom: 24px;
        }
        textarea{
        @include fsn-m;  
        @include text;
        height: 160px;
        }
			}
		}
	}
}

.header {
  background: none;
  padding: 20px 32px;
  position: relative;
	.nav {
		.wrapper {
      display: flex;
      justify-content: space-between;
      width: 100%;
			 .back{
        padding: 12px 16px;
        a{
          display: flex;
          justify-content: space-between;
          text-decoration: none;
          background-color: rgba(0,0,0,0.04);
          border-radius: 100px;
          padding: 12px 20px 10px 16px;
          transition: all 0.24s;
          &:hover{
            background-color: rgba(0,0,0,0.12);
          }
          .icon {
              margin-right: 12px
          }
          p{
            padding: 4px 0;
          }
        }
				
        p{
          font-size:14px;
          font-weight: bold;
          line-height:1;
        }
			}
			.save {
        padding: 24px 24px;
        font-size: 14px;
        border-radius: 100px;
        height: 0;
        line-height: 0;
        color: white;
        background-color: #080725;
        box-shadow: 1px 1px 4px rgba(0,0,0,0.08);
        transition: all 0.4s;
        cursor: pointer;
        &:hover{
          background-color: white;
          color: #080725;
          font-weight: bold;
          box-shadow: 1px 1px 8px rgba(0,0,0,0.16);
        }
			}
		}
	}
}
@include sp{
   .header{
        padding: 20px 4px;
        margin-bottom: 48px;
    } 
}



</style>
