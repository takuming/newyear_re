<template>
  <div class="month">
    <header class="header">
    <nav class="nav">
      <ul class="wrapper">
        <li class="back">
          <router-link to="/lookback">
              <span class="icon">
                <img v-bind:src="require('../images/arrow_back.svg')" alt="arrowback">
              </span>
              <p>æˆ»ã‚‹</p> 
          </router-link>
        </li>
        <li @click="updateLbmonth" class="save">ä¿å­˜ã™ã‚‹</li>
      </ul>
    </nav>
  </header>
    <div class="title">
            <h3>æœˆã”ã¨ã«ä»Šå¹´ã‚’æŒ¯ã‚Šè¿”ã‚ã†ğŸ§</h3>
            <p class="list">ãƒ»ä»Šå¹´ã‚’æŒ¯ã‚Šè¿”ã‚‹ã‚¦ã‚©ãƒ¼ãƒ ã‚¢ãƒƒãƒ—ã‚’ã—ã¾ã—ã‚‡ã†<br>ãƒ»ä»Šå¹´ã®å‡ºæ¥äº‹ã‚’æœˆã”ã¨ã«æ€ã„ã¤ãã ã‘æ›¸ãå‡ºã—ã¾ã—ã‚‡ã†<br>ãƒ»ç›®å®‰ã¯20åˆ†ã§ã™ã€‚äº‹å®Ÿã¨ãã®æ™‚ã®æ°—æŒã¡ã‚’ãƒ™ãƒ¼ã‚¹ã«æ›¸ã„ã¦ã¿ã¾ã—ã‚‡ã†<br>ãƒ»ãƒ•ã‚©ãƒ¼ãƒ å†…ã§Enterã‚’æŠ¼ã—ã¦æ”¹è¡Œã™ã‚‹ã¨è‡ªå‹•çš„ã«ä¿å­˜ã•ã‚Œã¾ã™ã€‚</p>
          </div>
    <div class="note">
      <div class="wrapper">
          <div class="monthlist">
            <ul class="wrapper"  >
              <!-- <li  v-for="m in monthes" class="detail">
                <h4>{{m.number}}æœˆ</h4>
                <textarea name="" id="" cols="30" rows="10" 
                placeholder="ã“ã®æœˆã«ã‚ã£ãŸã“ã¨ã‚’2ã¤~ï¼•ã¤ãªã‚“ã§ã‚‚æ›¸ãå‡ºãã†
                ãƒ»ä»•äº‹ã§ã‚ã£ãŸã“ã¨
                ãƒ»æ‹æ„›ã§ã‚ã£ãŸã“ã¨
                ãƒ»æ—…è¡Œå…ˆ
                ãƒ»è€ƒãˆãŸã“ã¨
                ãƒ»æ„Ÿæ„Ÿæƒ…ãŒå‹•ã„ãŸã“ã¨
                etc">
                </textarea>
              </li> -->
              <li class="detail">
                <h4>1<span class="mini">æœˆ</span></h4>
                <textarea
                  class="form"
                  v-model="lbmonth.jan"
                  placeholder="ã“ã®æœˆã«ã‚ã£ãŸã“ã¨ã‚’2ã¤~ï¼•ã¤ãªã‚“ã§ã‚‚æ›¸ãå‡ºãã†
ãƒ»ä»•äº‹ã§ã‚ã£ãŸã“ã¨
ãƒ»æ‹æ„›ã§ã‚ã£ãŸã“ã¨
ãƒ»æ—…è¡Œå…ˆ
ãƒ»è€ƒãˆãŸã“ã¨
ãƒ»æ„Ÿæ„Ÿæƒ…ãŒå‹•ã„ãŸã“ã¨
etc"
                  v-on:keyup.enter="updateLbmonth"
                  v-on:change="updateLbmonth"
                ></textarea>
              </li>
              <li class="detail">
                <h4>2<span class="mini">æœˆ</span></h4>
                <textarea v-model="lbmonth.feb" name="" id="" cols="30" rows="10" 
                placeholder="ã“ã®æœˆã«ã‚ã£ãŸã“ã¨ã‚’2ã¤~ï¼•ã¤ãªã‚“ã§ã‚‚æ›¸ãå‡ºãã†
ãƒ»ä»•äº‹ã§ã‚ã£ãŸã“ã¨
ãƒ»æ‹æ„›ã§ã‚ã£ãŸã“ã¨
ãƒ»æ—…è¡Œå…ˆ
ãƒ»è€ƒãˆãŸã“ã¨
ãƒ»æ„Ÿæ„Ÿæƒ…ãŒå‹•ã„ãŸã“ã¨
etc" v-on:keyup.enter="updateLbmonth"
                  v-on:change="updateLbmonth">
                </textarea>
              </li>
              <li class="detail">
                <h4>3<span class="mini">æœˆ</span></h4>
                <textarea v-model="lbmonth.mar" name="" id="" cols="30" rows="10" 
                placeholder="ç³ã‚’é–‰ã˜ã‚Œã°ã‚ãªãŸãŒã¾ã¶ãŸã®ã€œã€œã„ã‚‹ã‚ˆã†ã§" v-on:keyup.enter="updateLbmonth"
                  v-on:change="updateLbmonth">
                </textarea>
              </li>
              <li class="detail">
                <h4>4<span class="mini">æœˆ</span></h4>
                <textarea v-model="lbmonth.apr" name="" id="" cols="30" rows="10" 
                placeholder="æ˜¥ã€æ¡œæº€é–‹ã€‚æ–°ã—ã„å‡ºä¼šã„ã€‚ã¨ã‹ã‚ã‚Šã¾ã—ãŸï¼Ÿ" v-on:keyup.enter="updateLbmonth"
                  v-on:change="updateLbmonth">
                </textarea>
              </li>
              <li class="detail">
                <h4>5<span class="mini">æœˆ</span></h4>
                <textarea v-model="lbmonth.may" name="" id="" cols="30" rows="10" 
                placeholder="å¤ã‚’æ„Ÿã˜ã‚‹å¤©æ°—ãŒå¢—ãˆã¯ã˜ã‚ã‚‹ä»˜ãã§ã™ã‚ˆã­ã€‚" v-on:keyup.enter="updateLbmonth"
                  v-on:change="updateLbmonth">
                </textarea>
              </li>
              <li class="detail">
                <h4>6<span class="mini">æœˆ</span></h4>
                <textarea v-model="lbmonth.jun" name="" id="" cols="30" rows="10" 
                placeholder="ä½•ã¨ãªãé›¨ãŒé™ã‚‹æœˆã§ã™ãŒã€ä½•ãŒã‚ã‚Šã¾ã—ãŸã‹" v-on:keyup.enter="updateLbmonth"
                  v-on:change="updateLbmonth">
                </textarea>
              </li>
              <li class="detail">
                <h4>7<span class="mini">æœˆ</span></h4>
                <textarea v-model="lbmonth.jul" name="" id="" cols="30" rows="10" 
                placeholder="ã‚„ã°ã„ï¼å¤ã ï¼æµ·ã !èŠ±ç«ã ï¼ãƒ©ãƒ–ãƒ­ãƒãƒ³ã‚¹ã ï¼ï¼Ÿ" v-on:keyup.enter="updateLbmonth"
                  v-on:change="updateLbmonth">
                </textarea>
              </li>
              <li class="detail">
                <h4>8<span class="mini">æœˆ</span></h4>
                <textarea v-model="lbmonth.aug" name="" id="" cols="30" rows="10" 
                placeholder="æ°—ã¥ã„ãŸã‚‰1å¹´ã®åŠåˆ†ãŒéãã¦ã„ã‚‹8æœˆã§ã™ã€‚" v-on:keyup.enter="updateLbmonth"
                  v-on:change="updateLbmonth">
                </textarea>
              </li>
              <li class="detail">
                <h4>9<span class="mini">æœˆ</span></h4>
                <textarea v-model="lbmonth.sep" name="" id="" cols="30" rows="10" 
                placeholder="ç§‹ã¨è¨€ã„ã¤ã¤ã¾ã å¤ã§ã™ã‚ˆã­" v-on:keyup.enter="updateLbmonth"
                  v-on:change="updateLbmonth">
                </textarea>
              </li>
              <li class="detail">
                <h4>10<span class="mini">æœˆ</span></h4>
                <textarea v-model="lbmonth.oct" name="" id="" cols="30" rows="10" 
                placeholder="ã¡ã‚‡ã£ã¨éã”ã—ã‚„ã™ããªã£ã¦ãã‚‹å­£ç¯€" v-on:keyup.enter="updateLbmonth"
                  v-on:change="updateLbmonth">
                </textarea>
              </li>
              <li class="detail">
                <h4>11<span class="mini">æœˆ</span></h4>
                <textarea v-model="lbmonth.nov" name="" id="" cols="30" rows="10" 
                placeholder="ãˆã€ã‚‚ã†ä»Šå¹´ãŒæ•°ãƒ¶æœˆã—ã‹ãªã„ãƒ»ãƒ»ãƒ»ã¨æ€ã†æœˆã€‚ã©ã†ã§ã—ãŸï¼Ÿ" v-on:keyup.enter="updateLbmonth"
                  v-on:change="updateLbmonth">
                </textarea>
              </li>
              <li class="detail">
                <h4>12<span class="mini">æœˆ</span></h4>
                <textarea v-model="lbmonth.dec" name="" id="" cols="30" rows="10" 
                placeholder="è¨˜æ†¶ã®æ–°ã—ã„æœˆã€‚æŒ¯ã‚Šè¿”ã‚ŠãŠç–²ã‚Œã•ã¾ã§ã™ã€‚" v-on:keyup.enter="updateLbmonth"
                  v-on:change="updateLbmonth">
                </textarea>
              </li>
              
            </ul>
          </div>
        </div>
    </div>
    
  </div>
  
</template>

<script>
import axios from 'axios';

import HeaderLb from "../components/header-lb.vue";

export default {
  components: {
    HeaderLb
  },
  data() {
   return {
     monthes: [
      { number: '1' },
      { number: '2' },
      { number: '3' },
      { number: '4' },
      ],
     lbmonth:{},
   }
 },
 mounted () {
    axios
      .get(`/api/v1/lbmonths/${this.$route.params.id}.json`)
      .then(response => (this.lbmonth = response.data))
  },
  methods: {
    updateLbmonth: function() {
      axios
        .patch(`/api/v1/lbmonths/${this.lbmonth.id}`, this.lbmonth)
        .catch(error => {
          console.error(error);
          if (error.response.data && error.response.data.errors) {
            this.errors = error.response.data.errors;
          }
        });
    },
  }
}
</script>

<style lang="scss" scoped>
@import "./app/javascript/style/global.scss";
@import "./app/javascript/style/_mixin.scss";
.month {
  background-color:#FAF8EC;
  padding-bottom: 80px;
  .title {
        margin: 24px 0 56px;
    h3{
      @include fst-l;
      text-align: center;
      margin-bottom: 8px;
      color: #080725;
    }
    p{
      @include fsn-s;
      @include eng_font;
      text-align: center;
      color: #080725;
      margin-bottom: 12px;
    font-weight: bold;
    }
    p.list{
      @include plist;
      border-top: 1px solid rgba(0, 0, 0, 0.16);
      border-bottom: 1px solid rgba(0, 0, 0, 0.16);
    }
	}
	.note {
    @include note;
    background-color: white;
    padding: 48px;
    width: 94%;
    margin: 0 auto;
		.wrapper {
			.monthlist {
				.wrapper {
          display: flex;
          flex-wrap: wrap;
          justify-content: space-between;
					.detail {
            width: calc(50% - 16px);
            height: 400px;
            padding: 24px 40px  24px 40px;
            &:nth-child(odd){
              border-right: 1px solid #f3f3f4;
            } 
            h4{
              @include fst-m;
              margin-bottom: 24px;
              .mini{
                font-size:12px;
                margin-left:4px;
              }
            }
            textarea{
              @include fsn-m;
              @include text;
                  height: 280px;
              border-bottom: 1px solid #f3f3f4;  
              &:nth-child(11),&:nth-child(12){
                border-bottom: none;
              }
            }
					}
				}
			}
		}
	}
}

@include sp{
  .month{
     .note{
      .wrapper{
         .monthlist{
           .wrapper{
              display: block;
              .detail{
                display: block;
                width: 100%;
                border: none;
                padding: 24px 24px 24px 24px;
                textarea{
                  height: 300px;
                }
              }
           }
         } 
      }
     }
  }
}

.header {
  background: none;
  padding: 20px 32px;
  position: relative;
	.nav {
		.wrapper {
      display: flex;
      justify-content: space-between;
      width: 100%;
			 .back{
        padding: 12px 16px;
        a{
          display: flex;
          justify-content: space-between;
          text-decoration: none;
          background-color: rgba(0,0,0,0.08);
          border-radius: 100px;
          padding: 12px 20px 10px 16px;
          transition: all 0.24s;
          &:hover{
            background-color: rgba(0,0,0,0.16);
          }
          .icon {
              margin-right: 12px
          }
          p{
            padding: 4px 0;
          }
        }
				
        p{
          font-size:14px;
          font-weight: bold;
          line-height:1;
        }
			}
			.save {
        padding: 24px 24px;
        font-size: 14px;
        border-radius: 100px;
        height: 0;
        line-height: 0;
        color: white;
        background-color: #080725;
        box-shadow: 1px 1px 4px rgba(0,0,0,0.08);
        transition: all 0.4s;
        cursor: pointer;
        &:hover{
          background-color: white;
          color: #080725;
          font-weight: bold;
          box-shadow: 1px 1px 8px rgba(0,0,0,0.16);
        }
			}
		}
	}
}
@include sp{
   .header{
        padding: 20px 4px;
        margin-bottom: 48px;
    } 
}

</style>
